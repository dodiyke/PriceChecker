<!DOCTYPE html>
<html>
<head>
    <title>Barcode Scanner</title>
</head>
<body>
    <h1>Barcode Scanner</h1>

    <!-- Create a container to display the scanned barcode -->
    <input type="text" id="barcode" placeholder="Scan Barcode" />

    <!-- Create elements to display item information -->
    <div>
        <h2>Item Information</h2>
        <p><strong>Name:</strong> <span id="itemName"></span></p>
        <p><strong>Description:</strong> <span id="itemDescription"></span></p>
        <p><strong>Price:</strong> <span id="itemPrice"></span></p>
        <img src="" id="itemPhoto" alt="Item Photo">
    </div>

    <!-- Include the necessary JavaScript libraries -->
    <script src="https://rawgit.com/lindell/JsBarcode/master/dist/JsBarcode.all.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- Your custom JavaScript -->
    <script>
        // Event listener for scanning barcode
        document.getElementById('barcode').addEventListener('change', function() {
            const scannedBarcode = this.value;

            // Fetch data from Google Sheets using Google Sheets API
            const sheetId = '1aWKsnNu7FOvDifNXtd5dmCxQ4vmBhZSthpIF9X9lLw4';
            const apiKey = 'AIzaSyDaPgYapqR8CZs1CBas4SDF3MxQVAOKeAU';
            const tabName = 'Sheet2'; // Replace with the specific tab name.
            const range = `${tabName}!A1:F1500`; // Assumes barcode is in column A

            const url = `https://sheets.googleapis.com/v4/spreadsheets/${sheetId}/values/${range}?key=${apiKey}`;

            fetch(url)
                .then(response => response.json())
                .then(data => {
                    const item = data.values.find(row => row[0] === scannedBarcode);
                    if (item) {
                        const [barcode, name, description, photoUrl, price] = item;
                        // Display the item information on the HTML page
                        document.getElementById('itemName').textContent = name;
                        document.getElementById('itemDescription').textContent = description;
                        document.getElementById('itemPrice').textContent = price;
                        document.getElementById('itemPhoto').src = photoUrl;
                    } else {
                        alert('Item not found.');
                    }
                })
                .catch(error => console.error(error));
        });
    </script>
</body>
</html>
